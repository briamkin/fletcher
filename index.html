<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>MomenTWEETum</title>
  </head>
  <body>
    <h1>TEST</h1>
    <script src="static/jquery.min.js"></script>
    <script src="static/d3.min.js"></script>
    //<!--<script src="static/main.js"></script>//-->
    <script>
      Object.size = function(obj) {
          var size = 0, key;
          for (key in obj) {
              if (obj.hasOwnProperty(key)) size++;
          }
          return size;
      };

    function update_map(hours, search_terms) {
      $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/tweets",
        dataType: "json",
        async: true,
        data: '{"hrs":' + String(hours) + ', "search":"' + String(search_terms) + '"}',
        // data: '{"hrs":' + String(30) + ', "search":"' + String("nba, cavs, warriors, finals") + '"}',
        success: function (data) {
          console.log(Object.size(data))
          console.log(data)
        },
        error: function (result) {
          console.log("hmm?")
        }
        // complete: function () {
        //   setTimeout(update_map, 5000)
        // }
      });
    }

    // update_map(1000, "nba, cavs, warriors, finals");
    function update_candidates(hours) {
      $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/candidates",
        dataType: "json",
        async: true,
        data: '{"hrs":' + String(hours) + '"}',
        // data: '{"hrs":' + String(30) + ', "search":"' + String("nba, cavs, warriors, finals") + '"}',
        success: function (data) {
          console.log(Object.size(data))
          console.log(data)
        },
        error: function (result) {
          console.log("hmm?")
        }
        // complete: function () {
        //   setTimeout(update_map, 5000)
        // }
      });
    }
    update_candidates(100)

    </script>
  </body>
</html>
